# 1. 第一章
1. **OS 的目标**（4）
	1. 方便性：使计算机更加易于使用
	2. 有效性：有效的方式使用计算机系统资源
	3. 可扩展性：添加新的功能和模块
	4. 开放性：程序可移植性和互操作性
2. **OS 的作用**（3）
	1. 作为用户与计算机硬件系统之间的接口
	2. 作为计算机系统资源的管理者
	3. 实现对计算资源的抽象
3. OS 的发展过程（5）
	1. 人工操作方式
	2. 单批处理系统
	3. 多批处理系统
	4. 分时系统
	5. 实时系统
4. **OS 的特征**（4）
	1. 并发性：最重要，其它特征都以并发为前提，多事件同时间间隔、时刻发送
	2. 共享性：资源可由内存中的多个进程共同使用
	3. 虚拟性：把物理实体映射为若干个逻辑上的对应物
	4. 异步性：进程以不可预知的速度推进
5. **OS 功能**（5）
	1. 处理机管理
	2. 存储器管理
	3. 设备管理
	4. 文件管理
	5. 接口管理
6. **OS 结构设计**（5）
	1. 无结构操作系统：只注意功能实现和效率，缺乏首尾一致的设计思想
	2. 模块化结构：包含若干模块，每一模块实现一组概念、基本属性
	3. 分层式结构：包含若干层，每一层实现一组概念、基本属性
	4. 微内核结构：更小、更精炼，运行在核心态，开机常驻内存
7. 原语、原子操作
	- 原语：由若干条指令组成，用于完成一定功能的一个过程
	- 原子操作：一个操作中的所有动作要么全做，要么全不做。在内核态下执行，常驻内存

# 2. 进程的描述与控制
**进程**：一段可并发执行的具有独立功能的程序，是关于某个数据集的一次执行过程，也是 OS 进行资源分配和保护的基本单位
1. 程序顺序执行时的特征（3）
	1. 顺序性：严格按顺序执行语句
	2. 封闭性：程序运行时独占全机资源，结果不受外界因素影响
	3. 可再现性：重复执行可以获得相同的结果
2. 程序并发执行的特征（3）
	1. 间断性：程序形成相互制约关系，“执行——暂停——执行”间断性
	2. 失去封闭性：多个程序共享资源
	3. 不可再现性：失去封闭性导致不可再现
3. **进程的特征**（4）
	1. 动态性：最基本特征，创建而生，调度执行，撤销而消亡
	2. 并发性：多个进程共存于内存，一段时间内同时执行
	3. 独立性：独立运行、获得资源、接受调度的基本单位
	4. 异步性：按不可预知的速度推进
4. 进程与程序的区别（4） T19

|           | 程序          | 进程          |
| --------- | ----------- | ----------- |
| **概念**    | 静态          | 动态          |
| **所在存储器** | 外存          | 内存          |
| **存在时间**  | 永久          | 有生命期        |
| **组成**    | 有序指令        | 程序段、数据段、PCB |
| **对应关系**  | 一个程序可对应多个进程 | 一个进程可对应多个程序 |

5. 进程的状态、**转换事件**（4）P9
	- 状态：
	1. 运行态：占有处理机，正在运行
	2. 就绪态：等待分配处理机运行
	3. 阻塞态：等待某个时间的完成
	- 转换事件：
	1. 运行态→阻塞态：等待某事件发生
	2. 阻塞态→就绪态：某事件发生
	3. 运行态→就绪态：时间片用完、有优先级更高的进程
	4. 就绪态→运行态：CPU 调度分配处理机
6. 引入挂起原因（4）
	1. 终端用户需要：终端用户运行发现可疑问题
	2. 父进程需要：考查、修改、协调孩子进程
	3. 负载调节需要：系统工作负荷较重
	4. OS 需要：检查资源使用情况、记账
7. **PCB** 作用（5）
	1. 作为独立运行基本单位的标志：进程存在于系统的唯一标识
	2. 实现间断运行方式：停停走走
	3. 提供进程管理所需信息
	4. 提供进程调度所需要的信息
	5. 实现与其他进程的同步通信
8. **PCB** 中的信息（4）
	1. 进程标识符：外部标识符、内部标识符
	2. 处理机状态：各寄存器中的值
	3. 进程调度信息：进程状态、进程优先级、调度所需其他信息、事件
	4. 进程控制信息：程序和数据地址、进程同步和通信机制、资源清单、链接指针
9. **PCB** 的组织方式（3）
	1. 线性方式
	2. 链接方式
	3. 索引方式
10. 父子进程关系（3）B51
	1. 子进程继承父进程所拥有的资源
	2. 子进程撤销归还父进程获得的资源
	3. 撤销父进程同时撤销子进程
11. 进程创建事件（4）
	1. 用户登录
	2. 作业调度
	3. 提供服务
	4. 应用请求
12. 进程创建步骤（4）
	1. 申请空白 PCB
	2. 为新进程分配运行所需的资源
	3. 初始化 PCB（标志信息、处理机状态信息、处理机控制信息）
	4. 如果就绪队列能接纳，插入就绪队列
13. 进程终止事件（3）
	1. 正常结束
	2. 异常结束
	3. 外界干预
14. 进程终止过程（5）
	1. 根据标识符并检索出 PCB，读出状态
	2. 若为执行状态则终止执行，调度标志置为真
	3. 终止子孙进程
	4. 被终止进程资源归还父进程、OS
	5. 被终止进程 PCB 从队列中移出
15. 进程阻塞事件（4）
	1. 向系统请求资源失败
	2. 等待某种操作的完成
	3. 新数据尚未到达
	4. 等待新任务的到达
16. 进程阻塞过程（2）
	1. PCB 中状态由执行改为阻塞，将 PCB 插入阻塞队列
	2. 转至调度程序进行重新调度
17. 进程唤醒过程（2）
	1. 从阻塞队列中移出，将 PCB 状态由阻塞改为就绪
	2. 将 PCB 插入就绪队列
18. 进程挂起过程（2）T83
	1. 活动就绪改为静止就绪
	2. 活动阻塞改为静止阻塞
19. 进程激活过程（2）T83
	1. 将进程由外存调入内存
	2. 静止就绪改为活动就绪，静止阻塞改为活动阻塞
20. 进程通信分类（2）
	1. 低级通信：效率低，对用户不透明
	2. 高级通信：直接利用 OS 通信命令高效、大量传输数据
21. 高级通信分类（4）
	1. 共享存储器系统
	2. 消息传递系统
	3. 管道通信
	4. 客户机 - 服务器系统
22. 共享存储器系统通信分类（2）
	1. 共享数据结构
	2. 共享存储区
23. 消息传递系统分类（2）
	1. 直接通信，Send(Receiver, message)，Receive(Sender, message)
	2. 间接通信，Send (mailbox, message)，Receive (mailbox, message)
24. 线程、进程比较（6）B64
	1. 调度的基本单位
	2. 并发性
	3. 拥有的资源：自己拥有很少资源，共享进程拥有的资源
	4. 独立性
	5. 系统开销：创建、撤销
	6. 支持多处理机系统
25. 线程的实现方式（2）B67
	1. 内核支持线程：设置 TCB，对用户级线程切换开销大
	2. 用户级线程：进程切换不调用内核，可在不支持线程 OS 上实现，一个线程阻塞进程内所有线程阻塞，不能利用多处理机

# 3. 处理机调度与死锁
1. 进程调度的层次（3）
	1. 高级调度：作业调度
	2. 低级调度：进程调度
	3. 中级调度：内存调度
2. 作业调度的任务（2）
	1. 接纳多少作业
	2. 接纳哪些作业
3. 进程调度的任务（3）
	1. 保存 CPU 现场信息
	2. 按某种算法选取进程
	3. 把 CPU 分配给进程
4. 进程调度的原因（4）P15
	1. 正在执行的进程正常、异常终止
	2. 因某种原因阻塞
	3. 引入时间片系统中，时间片用完
	4. 抢占式调度中，就绪队列中某进程优先级比当前进程优先级高，或有优先级更高的进程进入就绪队列
5. 抢占式调度的主要原则（3）
	1. 优先级原则
	2. 短进程优先原则
	3. 时间片原则
6. 静态、动态优先级
	1. 静态优先级：进程创建时确定，进程运行期间不变
	2. 动态优先级：创建时赋予优先级，随着运行改变
7. 多级反馈队列的好处（3）P16
	1. 终端型作业用户：较小交互型作业，在第 1 队列规定时间完成
	2. 短批处理作业用户：通常在第 2，3 队列完成，周转时间仍较短
	3. 长批处理作业用户：不必担心作业长期得不到处理
8. **死锁原因**（3）B93
	1. 竞争不可抢占资源
	2. 竞争可消耗资源
	3. 进程推进顺序不当
9. **死锁的必要条**件（4）
	1. 互斥条件：资源排他性使用
	2. 请求和保持条件：已占有资源，请求新资源被阻塞，对已占有资源保持
	3. 不可抢占条件：资源未使用完前不能抢占
	4. 循环等待条件：“进程——资源”循环链
10. 解决死锁的方法（4）
	1. 预防死锁
	2. 避免死锁
	3. 检测死锁
	4. 解除死锁

**算法**：
1. 调度算法：
	1. FCFS
	2. SJF
	3. HRRN
	4. RR
2. 银行家算法

# 4. 进程同步
1. 两种形式制约关系
	1. 间接相互制约关系（互斥关系）：资源共享
	2. 直接相互制约关系（同步关系）：进程间合作
2. **临界资源、临界区**、进入区、退出区
	1. 临界资源：进程需要互斥访问的资源
	2. 临界区：进程中访问临界资源的代码
	3. 进入区：检查临界资源是否被访问的检查代码
	4. 退出区：将临界区正在被访问标志恢复为未被访问
3. **同步**机制遵循的原则（4）
	1. 空闲让进
	2. 忙则等待
	3. 有限等待
	4. 让权等待
4. 解决临界区（互斥）问题的方法（3）
	1. **软件同步机制**
	2. **硬件同步机制**
	3. 信号量同步机制
5. 硬件同步分类（3）
	1. 关中断
	2. 利用 Test-and-Set 指令实现互斥
	3. 利用 swap 指令实现互斥
6. 硬件同步优（3）缺（2）点 T136
	- 优：
	1. 适用于任意数目进程
	2. 容易验证正确性
	3. 支持内存中有多个临界区
	- 缺：
	1. 等待消耗 CPU 时间（无让权等待）
	2. 可能“饥饿”
7. 信号量机制分类、代码（4）
	1. 整型信号量
	2. 记录型信号量
	3. AND 型信号量
	4. 信号量集

# 5. 存储器管理
1. 存储分配的三种方式（3）T11
	1. 直接指定方式
	2. 静态分配方式（4）：装配程序进行连接装入时确定主存中的位置
	3. 动态装入方式（5）
2. 运行用户程序的步骤（3）
	1. 编译
	2. 链接
	3. 装入
3. 程序装入的方式（3）
	1. 绝对装入方式
	2. 可重定位装入方式（**静态重定位**）
	3. 动态运行时装入方式（**动态重定位**）
4. 动态运行装入方式优（3）缺（2）点 T30
	- 优：
	1. 不一定分配在连续存储区，使用较小的分配单位
	2. 作业共享一程序段副本容易
	3. 向用户提供比主存存储空间大得多的地址空间
	- 缺：
	1. 附加硬件支持
	2. 实现存储器管理的软件复杂
5. 程序的链接（3）
	1. 静态链接：程序运行前将目标模块、库函数链接成完整装入模块
	2. 装入时动态链接：装入内存时链接
	3. 运行时动态链接：执行时链接
6. 连续分配存储管理方式（3）
	1. 单一连续分配方式：仅驻留一道用户程序，整个内存用户区由该进程独占
	2. 固定分区分配：用户区划分若干分区，一个进程占一个分区（分区划分、分区使用表）
	3. **动态分区分配**：根据进程需要动态分配内存空间
	4. 动态重定位分区分配（紧凑）：装入内存的地址仍是相对地址，通过重定位寄存器转换为物理地址
7. 动态分区分配的数据结构（2）
	1. 空闲分区表
	2. 空闲分区链
8. 四种回收分区情况（4）
	1. 回收区域插入点的前一个空闲分区相邻
	2. 回收区与插入点后一个空闲分区相邻
	3. 回收区同时与插入点前后两个分区邻接
	4. 回收区无邻接分区
9. 快表（“联想寄存器”）
10. 反置页表
11. 分段存储管理方式优点（5）
	1. 方便编程
	2. 信息共享
	3. 信息保护
	4. 动态链接
	5. 动态增长
12. 分页分段对比
	![|450](image/Pasted%20image%2020250603165208.png)

![|500](image/Pasted%20image%2020250603165619.png)

内零头（内碎片）：内存中已分配给用户但未利用的区域
- 单一连续分配有较大的内零头
- 固定分区、动态分区有小于分区的内零头
- 分页存储：无外零头，仅有一个内零头
- 分段存储：无内零头，只有外零头
外零头：没有分配但无法分配的空间

**算法**：
1. 动态分区分配算法：
	1. 基于搜索顺序
		- 首次适应算法（FF）
		- 循环首次适应算法（NF）
		- 最佳适应算法（BF）
		- 最坏适应算法（WF）
	2. 基于索引
		- 快速适应算法
		- 伙伴系统
		- 哈希算法
2. 分页计算：
	1. 页号、页内地址
	2. 物理地址
	3. 地址变换机构画图
3. 两级、多级页表计算

# 6. 虚拟存储器
1. **常规存储器管理方式的特征/缺点**（2）
	1. 一次性
	2. 驻留性
2. 局部性原理（2）
	1. 时间局限性
	2. 空间局限性
3. 虚拟存储器功能（2）
	1. 请求调入
	2. 置换
4. **虚拟存储器特征**（3）
	1. 多次性：作业分多次调入内存
	2. 对换性：作业中的程序、数据无须常驻内存，允许换入、换出
	3. 虚拟性：从逻辑上扩充内存容量，用户看到远大于实际内存的容量
5. 虚拟存储器实现（2）
	1. 请求分页系统：在纯分页系统上增加请求调页、页面置换功能
		硬件支持：
		1. 请求分页的页表机制（请求分页的数据结构）
		2. 缺页中断机构
		3. 地址变换机构
	2. 请求分段系统：在纯分段系统上增加请求调段、分段置换功能
		硬件支持：
		1. 请求分段的页表机制（请求分段的数据结构）
		2. 缺段中断机构
		3. 地址变换机构
6. 缺页中断与一般中断不同（2）
	1. CPU 在一条指令执行后检查一般中断，缺页中断是在指令执行期间
	2. 一条指令执行期间可能产生多次缺页中断
7. 请求分页中的内存分配
	1. 最小物理块数确定：能保证进程正常运行所需的最小物理块数
	2. 内存分配策略
		1. 固定分配局部置换
		2. 可变分配全局置换
		3. 可变分配局部置换
	3. 固定分配策略时物理块分配算法
		1. 平均分配算法
		2. 按比例分配算法
		3. 考虑优先权的分配算法
8. 页面调入策略
	1. 何时调入页面
		1. 预调页策略
		2. 请求调页策略
	2. 从何处调入页面
		1. 对换区
		2. 文件区、对换区
		3. UNIX 方式
	3. 如何调入页面（6）B180
	4. 缺页率计算
9. LRU 硬件支持（2）
	1. 寄存器
	2. 栈

**算法**：
1. 页面置换算法：
	1. 最佳页面置换算法（OPT）
	2. 先进先出页面置换算法（FIFO）
	3. 最近最久未使用置换算法（LRU）
	4. 最少使用页面置换算法（LFU）
	5. 简单 Clock 置换算法
	6. 改进型 Clock 置换算法

# 7. 输入/输出系统
1. I/O 设备的控制方式（3）
	1. 使用轮询的可编程 I/O 方式
	2. 使用中断的可编程 I/O 方式
	3. 直接存储访问（DMA）方式
	4. I/O 通道控制方式的引入


**算法**：
1. 磁盘访问时间
	1. 寻道时间
	2. 平均旋转延迟时间
	3. 传输时间
2. 磁盘调度算法
	1. FCFS 调度算法
	2. SSTF 调度算法
	3. SCAN 调度算法
	4. CSCAN 调度算法
	5. NStepSCAN 调度算法
	6. FSCAN 调度算法

# 8. 文件管理
1. 文件系统功能
	1. 管理文件的存储空间
	2. 管理文件目录
	3. 完成文件读/写操作
	4. 实现文件共享与保护
	5. 为用户提供交互式命令接口和程序调用接口
2. 数据的组成：
	1. 数据项
		1. 基本数据项
		2. 组合数据项：若干基本数据项
	2. 记录：一组相关数据项的集合
	3. 文件：创建者所定义的、具有文件名的一组相关元素的集合
3. 文件类型
	1. 按性质和用途分类：系统文件、用户文件、库文件
	2. 按文件中数据的形式分类：源文件、目标文件、可执行文件
	3. 按存取控制属性分类：可执行文件、只读文件、读/写文件
	4. 按组织形式和处理方式分类：普通文件、目录文件、特殊文件
4. 文件系统的层次结构
	1. 对象及其属性
		1. 文件
		2. 目录
		3. 磁盘存储空间
	2. 对对象进行操纵和管理的软件集合
	3. 文件系统接口
		1. 命令接口
		2. 程序接口
5. 文件操作
	1. 最基本文件操作：创建、删除、读、写、设置读/写位置操作
	2. 文件的“打开”和“关闭”操作
	3. 其他文件操作
6. 文件的逻辑结构
	1. 顺序文件
	2. 索引文件
	3. 索引顺序文件
7. 常用外存分配方法
	1. 连续分配
	2. 链接分配
		1. 隐式链接：文件目录目录项含有指向链接文件第一和最后一个盘块的指针
		2. 显式链接：链接文件各物理块的指针显示存放在内存的链接表中，整个磁盘仅设一张文件分配表（FAT）
	3. 索引分配
		1. 单级索引分配：每个文件一个索引表
		2. 多级索引分配：为索引块建立索引
		3. 混合索引方式
8. 文件存储空间的管理
	1. 空闲分区表：所有空闲分区建立一张空闲分区表
	2. 空闲链表法
		1. 空闲盘块链：将空闲空间以盘块为单位拉成一条链
		2. 空闲盘区链：将空闲盘区（可包含若干个盘块）拉成一条链，每个盘区包含指示下一个空闲盘区的指针和指明本盘区大小的信息（类似于内存动态分配）
	3. 位示图：用 0/1 指示存储块使用状态
	4. 成组链接法
9. 文件控制块（FCB）
	1. 存放文件有关说明信息
	2. 文件存在的标志
	3. 一个 FCB 是一个目录项
10. 目录
	1. 文件目录：FCB 组织在一起构成文件目录（文件控制块的有序集合）
	2. 目录项：FCB
	3. 目录文件：以文件形式保存在外存的文件目录
11. 目录项组织方式
	1. FCB 存储全部内容
	2. FCB 存储部分目录信息，其余信息保存在索引节点
12. 目录结构
	1. 单级文件目录
	2. 两级文件目录：每个用户一个单独用户文件目录（UFD），所有用户一个主文件目录（MFD）
	3. 树形目录（多级目录）
13. 树形目录检索
	1. 线性检索法
	2. Hash 方法
14. 文件共享
	1. 利用链接目录项实现：文件目录项设置链接指针（共享用户数为 1 时才能删除）
	2. 利用索引节点实现：共享索引节点（索引节点存储除大部分信息，目录项只包含文件名和指向索引节点的指针）
	3. 利用符号链接实现：创建 LINK 类型的新文件，共享文件的用户只有文件的路径名，不拥有指向索引节点的指针
15. 文件保护：系统为所有对象设置允许进程实施操作的操作集